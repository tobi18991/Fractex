function startWebGL(){$fractal=$("#fractal"),canvas=PIXI.autoDetectRenderer($fractal.width(),$fractal.height(),{antialias:!1,transparent:!1,resolution:1}),scene=new PIXI.Container,rectangle=new PIXI.Graphics,rectangle.beginFill(789516),rectangle.drawRect(0,0,canvas.view.width,canvas.view.height),rectangle.endFill(),scene.addChild(rectangle),canvas.render(scene),$fractal.append(canvas.view)}function animate(){setTimeout(function(){canvas.render(scene),window.requestAnimationFrame(animate)},200)}function renderFractal(){var a=$("#mandel_theme").val();uniform={dimension:{type:"2fv",value:[canvas.view.width,canvas.view.height]},move:{type:"2fv",value:[0,0]},zoom:{type:"2fv",value:[1,1]},theme:{type:"2fv",value:[a,0]}},PIXI.loader.add("js/frag/mandel.frag"),PIXI.loader.load(function(){var a=PIXI.loader.resources["js/frag/mandel.frag"].data,b=new PIXI.Filter("",a,uniform);rectangle.filters=[b],animate()})}function moveMandel(a,b){var c=uniform.zoom.value;uniform.move.value[0]+=a/c[0],uniform.move.value[1]+=b/c[1]}function zoomInMandel(a){uniform.zoom.value[0]*=a,uniform.zoom.value[1]*=a}function zoomOutMandel(a){uniform.zoom.value[0]/=a,uniform.zoom.value[1]/=a}function reset(){uniform.zoom.value[0]=1,uniform.zoom.value[1]=1,uniform.move.value[0]=0,uniform.move.value[1]=0}function changeTheme(a){uniform.theme.value[0]=a,uniform.theme.value[1]=0}var canvas,scene,rectangle,$fractal,uniform={};$(function(){PIXI.utils.isWebGLSupported()?(startWebGL(),$(window).resize(function(){canvas.view.width=$fractal.width(),canvas.view.height=$fractal.height()}),$("#mandel_draw").click(function(){renderFractal(),$("#overlay").hide(),$("#mandel_move_left").click(function(){moveMandel(-1,0)}),$("#mandel_move_right").click(function(){moveMandel(1,0)}),$("#mandel_move_up").click(function(){moveMandel(0,-1)}),$("#mandel_move_down").click(function(){moveMandel(0,1)}),$("#mandel_zoom_in").click(function(){zoomInMandel(2)}),$("#mandel_zoom_out").click(function(){zoomOutMandel(2)}),$("#mandel_reset").click(function(){reset()}),$("#mandel_theme").change(function(){changeTheme($(this).val())})})):alert("Dein Browser unterst√ºtzt leider kein WebGL!")});