function startWebGL(){$fractal=$("#fractal"),canvas=PIXI.autoDetectRenderer($fractal.width(),$fractal.height(),{antialias:!1,transparent:!1,resolution:1}),scene=new PIXI.Container,rectangle=new PIXI.Graphics,rectangle.beginFill(789516),rectangle.drawRect(0,0,canvas.view.width,canvas.view.height),rectangle.endFill(),scene.addChild(rectangle),canvas.render(scene),$fractal.append(canvas.view)}function animate(){setTimeout(function(){canvas.render(scene),window.requestAnimationFrame(animate)},200)}function renderFractal(){var a=$("#julia_rel").val(),b=$("#julia_im").val(),c=$("#julia_theme").val();uniform={dimension:{type:"2fv",value:[canvas.view.width,canvas.view.height]},move:{type:"2fv",value:[0,0]},zoom:{type:"2fv",value:[1,1]},c:{type:"2fv",value:[a,b]},theme:{type:"2fv",value:[c,0]}},PIXI.loader.add("js/frag/julia.frag"),PIXI.loader.load(function(){var a=PIXI.loader.resources["js/frag/julia.frag"].data,b=new PIXI.Filter("",a,uniform);rectangle.filters=[b],animate()})}function moveJulia(a,b){var c=uniform.zoom.value;uniform.move.value[0]+=a/c[0],uniform.move.value[1]+=b/c[1]}function zoomInJulia(a){uniform.zoom.value[0]*=a,uniform.zoom.value[1]*=a}function zoomOutJulia(a){uniform.zoom.value[0]/=a,uniform.zoom.value[1]/=a}function reset(){uniform.zoom.value[0]=1,uniform.zoom.value[1]=1,uniform.move.value[0]=0,uniform.move.value[1]=0}function changeTheme(a){uniform.theme.value[0]=a,uniform.theme.value[1]=0}var canvas,scene,rectangle,$fractal,uniform={};$(function(){PIXI.utils.isWebGLSupported()?(startWebGL(),$(window).resize(function(){canvas.view.width=$fractal.width(),canvas.view.height=$fractal.height()}),$("#julia_draw").click(function(){renderFractal(),$("#overlay").hide(),$("#julia_move_left").click(function(){moveJulia(-1,0)}),$("#julia_move_right").click(function(){moveJulia(1,0)}),$("#julia_move_up").click(function(){moveJulia(0,-1)}),$("#julia_move_down").click(function(){moveJulia(0,1)}),$("#julia_zoom_in").click(function(){zoomInJulia(2)}),$("#julia_zoom_out").click(function(){zoomOutJulia(2)}),$("#julia_reset").click(function(){reset()}),$("#julia_im").change(function(){uniform.c.value[1]=$(this).val()}),$("#julia_rel").change(function(){uniform.c.value[0]=$(this).val()}),$("#julia_theme").change(function(){changeTheme($(this).val())})})):alert("Dein Browser unterst√ºtzt leider kein WebGL!")});